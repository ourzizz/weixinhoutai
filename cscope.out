cscope 16 $HOME\Desktop\qtdev\weixinhoutai               0000026279
	@employeeform.cpp

1 
	~<QtSql
>

2 
	~<QtWidg‘s
>

3 
	~"em¶oy“fÜm.h
"

4 
	~<QMes§geBox
>

6 
	gEm¶oy“FÜm
::
	$Em¶oy“FÜm
(
id
,
feid
,
QWidg‘
 *
·»Á
)

7 : 
	$QDŸlog
(
·»Á
)

9 
ÇmeEd™
 = 
Ãw
 
QLšeEd™
;

10 
ÇmeLab–
 = 
Ãw
 
	`QLab–
(
	`Œ
("æ¶ˆæ¯å†…å®¹:"));

11 
ÇmeLab–
->
	`£tBuddy
(
ÇmeEd™
);

13 
d•¬tm’tComboBox
 = 
Ãw
 
QComboBox
;

14 
d•¬tm’tLab–
 = 
Ãw
 
	`QLab–
(
	`Œ
("æ‰€å±æ–‡ä»¶"));

15 
d•¬tm’tLab–
->
	`£tBuddy
(
d•¬tm’tComboBox
);

17 
ex‹nsiÚLšeEd™
 = 
Ãw
 
QLšeEd™
;

18 
ex‹nsiÚLšeEd™
->
	`£tV®id©Ü
(
Ãw
 
	`QIÁV®id©Ü
(0, 99999, 
this
));

20 
ex‹nsiÚLab–
 = 
Ãw
 
	`QLab–
(
	`Œ
("å‘å¸ƒæ—¶é—´"));

21 
ex‹nsiÚLab–
->
	`£tBuddy
(
ex‹nsiÚLšeEd™
);

23 
emaEd™
 = 
Ãw
 
QLšeEd™
;

24 
emaLab–
 = 
Ãw
 
	`QLab–
(
	`Œ
("æ‰€å±è€ƒè¯•"));

25 
emaLab–
->
	`£tBuddy
(
emaEd™
);

27 
¡¬tD©eEd™
 = 
Ãw
 
QD©eEd™
;

28 
¡¬tD©eEd™
->
	`£tC®’d¬Pİup
(
Œue
);

29 
QD©e
 
today
 = QD©e::
	`cu¼’tD©e
();

30 
¡¬tD©eEd™
->
	`£tD©eRªge
(
today
.
	`addDays
(-90),oday.addDays(90));

31 
¡¬tD©eLab–
 = 
Ãw
 
	`QLab–
(
	`Œ
("&å¤±æ•ˆæ—¶é—´:"));

32 
¡¬tD©eLab–
->
	`£tBuddy
(
¡¬tD©eEd™
);

39 
addBu‰Ú
 = 
Ãw
 
	`QPushBu‰Ú
(
	`Œ
("&Add"));

40 
d–‘eBu‰Ú
 = 
Ãw
 
	`QPushBu‰Ú
(
	`Œ
("&Delete"));

41 
şo£Bu‰Ú
 = 
Ãw
 
	`QPushBu‰Ú
(
	`Œ
("&Close"));

43 
bu‰ÚBox
 = 
Ãw
 
QDŸlogBu‰ÚBox
;

44 
bu‰ÚBox
->
	`addBu‰Ú
(
addBu‰Ú
, 
QDŸlogBu‰ÚBox
::
AùiÚRŞe
);

45 
bu‰ÚBox
->
	`addBu‰Ú
(
d–‘eBu‰Ú
, 
QDŸlogBu‰ÚBox
::
AùiÚRŞe
);

46 
bu‰ÚBox
->
	`addBu‰Ú
(
şo£Bu‰Ú
, 
QDŸlogBu‰ÚBox
::
Acû±RŞe
);

48 
bËMod–
 = 
Ãw
 
	`QSqlR–©iÚ®TabËMod–
(
this
);

49 
bËMod–
->
	`£tTabË
("ksmsg");

50 
bËMod–
->
	`£tR–©iÚ
(
Msg_Feid
,

51 
	`QSqlR–©iÚ
("ksfile", "ksfileid", "wjmc"));

52 
bËMod–
->
	`£tF‹r
(
	`QSŒšg
("ksmsg.ksfeid = %1").
	`¬g
(
feid
));

53 
bËMod–
->
	`£tSÜt
(
Msg_D—dtime
, 
Qt
::
AsûndšgOrd”
);

54 
bËMod–
->
	`£Ëù
();

56 
QSqlTabËMod–
 *
»ÏtiÚMod–
 =

57 
bËMod–
->
	`»ÏtiÚMod–
(
Msg_Feid
);

58 
d•¬tm’tComboBox
->
	`£tMod–
(
»ÏtiÚMod–
);

59 
d•¬tm’tComboBox
->
	`£tMod–CŞumn
(

60 
»ÏtiÚMod–
->
	`f›ldIndex
("wjmc"));

62 
m­³r
 = 
Ãw
 
	`QD©aWidg‘M­³r
(
this
);

63 
m­³r
->
	`£tSubm™PŞicy
(
QD©aWidg‘M­³r
::
AutoSubm™
);

64 
m­³r
->
	`£tMod–
(
bËMod–
);

65 
m­³r
->
	`£tI‹mD–eg©e
(
Ãw
 
	`QSqlR–©iÚ®D–eg©e
(
this
));

66 
m­³r
->
	`addM­pšg
(
ÇmeEd™
, 
Msg_MsgcÚ‹Á
);

67 
m­³r
->
	`addM­pšg
(
d•¬tm’tComboBox
, 
Msg_Feid
);

68 
m­³r
->
	`addM­pšg
(
ex‹nsiÚLšeEd™
, 
Msg_msgpubtime
);

69 
m­³r
->
	`addM­pšg
(
emaEd™
, 
Msg_Ksid
);

70 
m­³r
->
	`addM­pšg
(
¡¬tD©eEd™
, 
Msg_D—dtime
);

72 ià(
id
 != -1) {

73 
row
 = 0;„ow < 
bËMod–
->
	`rowCouÁ
(); ++row) {

74 
QSqlRecÜd
 
»cÜd
 = 
bËMod–
->
	`»cÜd
(
row
);

75 ià(
»cÜd
.
	`v®ue
(
Msg_Id
).
	`toIÁ
(è=ğ
id
) {

76 
m­³r
->
	`£tCu¼’tIndex
(
row
);

81 
m­³r
->
	`toFœ¡
();

89 
	`cÚÃù
(
addBu‰Ú
, 
	`SIGNAL
(
	`şicked
()), 
this
, 
	`SLOT
(
	`addEm¶oy“
()));

90 
	`cÚÃù
(
d–‘eBu‰Ú
, 
	`SIGNAL
(
	`şicked
()),

91 
this
, 
	`SLOT
(
	`d–‘eEm¶oy“
()));

92 
	`cÚÃù
(
şo£Bu‰Ú
, 
	`SIGNAL
(
	`şicked
()), 
this
, 
	`SLOT
(
	`acû±
()));

103 
QGridLayout
 *
mašLayout
 = 
Ãw
 QGridLayout;

105 
mašLayout
->
	`addWidg‘
(
ÇmeLab–
, 1, 0);

106 
mašLayout
->
	`addWidg‘
(
ÇmeEd™
, 1, 1, 1, 2);

107 
mašLayout
->
	`addWidg‘
(
d•¬tm’tLab–
, 2, 0);

108 
mašLayout
->
	`addWidg‘
(
d•¬tm’tComboBox
, 2, 1, 1, 2);

109 
mašLayout
->
	`addWidg‘
(
ex‹nsiÚLab–
, 3, 0);

110 
mašLayout
->
	`addWidg‘
(
ex‹nsiÚLšeEd™
, 3, 1);

111 
mašLayout
->
	`addWidg‘
(
emaLab–
, 4, 0);

112 
mašLayout
->
	`addWidg‘
(
emaEd™
, 4, 1, 1, 2);

113 
mašLayout
->
	`addWidg‘
(
¡¬tD©eLab–
, 5, 0);

114 
mašLayout
->
	`addWidg‘
(
¡¬tD©eEd™
, 5, 1);

115 
mašLayout
->
	`addWidg‘
(
bu‰ÚBox
, 7, 0, 1, 3);

116 
mašLayout
->
	`£tRowMšimumHeight
(6, 10);

117 
mašLayout
->
	`£tRowSŒ‘ch
(6, 1);

118 
mašLayout
->
	`£tCŞumnSŒ‘ch
(2, 1);

119 
	`£tLayout
(
mašLayout
);

126 
ÇmeEd™
->
	`£tFocus
();

129 
	`£tWšdowT™Ë
(
	`Œ
("æ¶ˆæ¯ç®¡ç†"));

130 
	}
}

132 
	gEm¶oy“FÜm
::
	$dÚe
(
»suÉ
)

134 
m­³r
->
	`subm™
();

135 
QDŸlog
::
	`dÚe
(
»suÉ
);

136 
	}
}

138 
	gEm¶oy“FÜm
::
	$addEm¶oy“
()

140 
row
 = 
m­³r
->
	`cu¼’tIndex
();

141 
m­³r
->
	`subm™
();

142 
bËMod–
->
	`š£¹Row
(
row
);

143 
m­³r
->
	`£tCu¼’tIndex
(
row
);

145 
ÇmeEd™
->
	`ş—r
();

146 
ex‹nsiÚLšeEd™
->
	`ş—r
();

147 
¡¬tD©eEd™
->
	`£tD©e
(
QD©e
::
	`cu¼’tD©e
());

148 
ÇmeEd™
->
	`£tFocus
();

149 
	}
}

151 
	gEm¶oy“FÜm
::
	$d–‘eEm¶oy“
()

153 
row
 = 
m­³r
->
	`cu¼’tIndex
();

154 
bËMod–
->
	`»moveRow
(
row
);

155 
m­³r
->
	`subm™
();

156 
m­³r
->
	`£tCu¼’tIndex
(
	`qMš
(
row
, 
bËMod–
->
	`rowCouÁ
() - 1));

157 
	}
}

	@employeeform.h

1 #iâdeà
EMPLOYEEFORM_H


2 
	#EMPLOYEEFORM_H


	)

3 
	~<QtWidg‘s
>

4 
	~<QDŸlog
>

6 
şass
 
	gQComboBox
;

7 
şass
 
	gQD©aWidg‘M­³r
;

8 
şass
 
	gQD©eEd™
;

9 
şass
 
	gQDŸlogBu‰ÚBox
;

10 
şass
 
	gQLab–
;

11 
şass
 
	gQLšeEd™
;

12 
şass
 
	gQPushBu‰Ú
;

13 
şass
 
	gQSqlR–©iÚ®TabËMod–
;

16 
	mMsg_Id
 = 0,

17 
	mMsg_MsgcÚ‹Á
 = 1,

18 
	mMsg_msgpubtime
 = 2,

19 
	mMsg_Feid
 = 3,

20 
	mMsg_Ksid
 = 4,

21 
	mMsg_D—dtime
 = 5

24 şas 
	cEm¶oy“FÜm
 : 
public
 
QDŸlog


26 
Q_OBJECT


28 
public
:

29 
Em¶oy“FÜm
(
id
,
feid
, 
QWidg‘
 *
·»Á
 = 0);

31 
dÚe
(
»suÉ
);

33 
´iv©e
 
	m¦Ùs
:

34 
addEm¶oy“
();

35 
d–‘eEm¶oy“
();

37 
	m´iv©e
:

38 
QSqlR–©iÚ®TabËMod–
 *
bËMod–
;

39 
QD©aWidg‘M­³r
 *
	mm­³r
;

40 
QLab–
 *
	mÇmeLab–
;

41 
QLab–
 *
	md•¬tm’tLab–
;

42 
QLab–
 *
	mex‹nsiÚLab–
;

43 
QLab–
 *
	memaLab–
;

44 
QLab–
 *
	m¡¬tD©eLab–
;

45 
QLšeEd™
 *
	mÇmeEd™
;

46 
QComboBox
 *
	md•¬tm’tComboBox
;

47 
QLšeEd™
 *
	mex‹nsiÚLšeEd™
;

48 
QLšeEd™
 *
	memaEd™
;

49 
QD©eEd™
 *
	m¡¬tD©eEd™
;

50 
QPushBu‰Ú
 *
	mfœ¡Bu‰Ú
;

51 
QPushBu‰Ú
 *
	m´eviousBu‰Ú
;

52 
QPushBu‰Ú
 *
	mÃxtBu‰Ú
;

53 
QPushBu‰Ú
 *
	mÏ¡Bu‰Ú
;

54 
QPushBu‰Ú
 *
	maddBu‰Ú
;

55 
QPushBu‰Ú
 *
	md–‘eBu‰Ú
;

56 
QPushBu‰Ú
 *
	mşo£Bu‰Ú
;

57 
QDŸlogBu‰ÚBox
 *
	mbu‰ÚBox
;

	@fileform.cpp

1 
	~<QtSql
>

2 
	~<QtWidg‘s
>

3 
	~"FeFÜm.h
"

4 
	~<QMes§geBox
>

6 
	gFeFÜm
::
	$FeFÜm
(
QSŒšg
 
ksid
,
QWidg‘
 *
·»Á
)

7 : 
	$QDŸlog
(
·»Á
)

9 
ÇmeEd™
 = 
Ãw
 
QLšeEd™
;

10 
ÇmeLab–
 = 
Ãw
 
	`QLab–
(
	`Œ
("æ–‡ä»¶åç§°:"));

11 
ÇmeLab–
->
	`£tBuddy
(
ÇmeEd™
);

14 
pubTimeEd™
 = 
Ãw
 
QLšeEd™
;

15 
pubtimeLab–
 = 
Ãw
 
	`QLab–
(
	`Œ
("å‘å¸ƒæ—¶é—´"));

16 
pubtimeLab–
->
	`£tBuddy
(
pubTimeEd™
);

18 
webAddEd™
ğ
Ãw
 
QLšeEd™
;

19 
webAddLab–
 = 
Ãw
 
	`QLab–
(
	`Œ
("æ‰€å±è€ƒè¯•"));

20 
webAddLab–
->
	`£tBuddy
(
webAddEd™
);

22 
addBu‰Ú
 = 
Ãw
 
	`QPushBu‰Ú
(
	`Œ
("æ·»åŠ æ–‡ä»¶"));

23 
d–‘eBu‰Ú
 = 
Ãw
 
	`QPushBu‰Ú
(
	`Œ
("åˆ é™¤æ–‡ä»¶"));

24 
şo£Bu‰Ú
 = 
Ãw
 
	`QPushBu‰Ú
(
	`Œ
("å…³é—­"));

26 
bu‰ÚBox
 = 
Ãw
 
QDŸlogBu‰ÚBox
;

27 
bu‰ÚBox
->
	`addBu‰Ú
(
addBu‰Ú
, 
QDŸlogBu‰ÚBox
::
AùiÚRŞe
);

28 
bu‰ÚBox
->
	`addBu‰Ú
(
d–‘eBu‰Ú
, 
QDŸlogBu‰ÚBox
::
AùiÚRŞe
);

29 
bu‰ÚBox
->
	`addBu‰Ú
(
şo£Bu‰Ú
, 
QDŸlogBu‰ÚBox
::
Acû±RŞe
);

31 
bËMod–
 = 
Ãw
 
	`QSqlR–©iÚ®TabËMod–
(
this
);

32 
bËMod–
->
	`£tTabË
("ksfile");

35 
bËMod–
->
	`£tF‹r
(
	`QSŒšg
("ksfe.ksid = \"%1\" ").
	`¬g
(
feid
));

37 
bËMod–
->
	`£Ëù
();

39 
m­³r
 = 
Ãw
 
	`QD©aWidg‘M­³r
(
this
);

40 
m­³r
->
	`£tSubm™PŞicy
(
QD©aWidg‘M­³r
::
AutoSubm™
);

41 
m­³r
->
	`£tMod–
(
bËMod–
);

42 
m­³r
->
	`£tI‹mD–eg©e
(
Ãw
 
	`QSqlR–©iÚ®D–eg©e
(
this
));

43 
m­³r
->
	`addM­pšg
(
ÇmeEd™
, 
Msg_MsgcÚ‹Á
);

44 
m­³r
->
	`addM­pšg
(
d•¬tm’tComboBox
, 
Msg_Feid
);

45 
m­³r
->
	`addM­pšg
(
ÇmeLšeEd™
, 
Msg_msgpubtime
);

46 
m­³r
->
	`addM­pšg
(
emaEd™
, 
Msg_Ksid
);

47 
m­³r
->
	`addM­pšg
(
¡¬tD©eEd™
, 
Msg_D—dtime
);

49 ià(
id
 != -1) {

50 
row
 = 0;„ow < 
bËMod–
->
	`rowCouÁ
(); ++row) {

51 
QSqlRecÜd
 
»cÜd
 = 
bËMod–
->
	`»cÜd
(
row
);

52 ià(
»cÜd
.
	`v®ue
(
Msg_Id
).
	`toIÁ
(è=ğ
id
) {

53 
m­³r
->
	`£tCu¼’tIndex
(
row
);

58 
m­³r
->
	`toFœ¡
();

61 
	`cÚÃù
(
addBu‰Ú
, 
	`SIGNAL
(
	`şicked
()), 
this
, 
	`SLOT
(
	`addFe
()));

62 
	`cÚÃù
(
d–‘eBu‰Ú
, 
	`SIGNAL
(
	`şicked
()),

63 
this
, 
	`SLOT
(
	`d–‘eFe
()));

64 
	`cÚÃù
(
şo£Bu‰Ú
, 
	`SIGNAL
(
	`şicked
()), 
this
, 
	`SLOT
(
	`acû±
()));

67 
QGridLayout
 *
mašLayout
 = 
Ãw
 QGridLayout;

69 
mašLayout
->
	`addWidg‘
(
ÇmeLab–
, 1, 0);

70 
mašLayout
->
	`addWidg‘
(
ÇmeEd™
, 1, 1, 1, 2);

71 
mašLayout
->
	`addWidg‘
(
pubtimeLab–
, 2, 0);

72 
mašLayout
->
	`addWidg‘
(
d•¬tm’tComboBox
, 2, 1, 1, 2);

73 
mašLayout
->
	`addWidg‘
(
ex‹nsiÚLab–
, 3, 0);

74 
mašLayout
->
	`addWidg‘
(
ÇmeLšeEd™
, 3, 1);

75 
mašLayout
->
	`addWidg‘
(
emaLab–
, 4, 0);

76 
mašLayout
->
	`addWidg‘
(
emaEd™
, 4, 1, 1, 2);

77 
mašLayout
->
	`addWidg‘
(
¡¬tD©eLab–
, 5, 0);

78 
mašLayout
->
	`addWidg‘
(
¡¬tD©eEd™
, 5, 1);

79 
mašLayout
->
	`addWidg‘
(
bu‰ÚBox
, 7, 0, 1, 3);

80 
mašLayout
->
	`£tRowMšimumHeight
(6, 10);

81 
mašLayout
->
	`£tRowSŒ‘ch
(6, 1);

82 
mašLayout
->
	`£tCŞumnSŒ‘ch
(2, 1);

83 
	`£tLayout
(
mašLayout
);

85 
ÇmeEd™
->
	`£tFocus
();

86 
	`£tWšdowT™Ë
(
	`Œ
("æ–‡ä»¶ç®¡ç†"));

87 
	}
}

89 
	gFeFÜm
::
	$dÚe
(
»suÉ
)

91 
m­³r
->
	`subm™
();

92 
QDŸlog
::
	`dÚe
(
»suÉ
);

93 
	}
}

95 
	gFeFÜm
::
	$addFe
()

97 
row
 = 
m­³r
->
	`cu¼’tIndex
();

98 
m­³r
->
	`subm™
();

99 
bËMod–
->
	`š£¹Row
(
row
);

100 
m­³r
->
	`£tCu¼’tIndex
(
row
);

102 
ÇmeEd™
->
	`ş—r
();

103 
ÇmeLšeEd™
->
	`ş—r
();

104 
¡¬tD©eEd™
->
	`£tD©e
(
QD©e
::
	`cu¼’tD©e
());

105 
ÇmeEd™
->
	`£tFocus
();

106 
	}
}

108 
	gFeFÜm
::
	$d–‘eFe
()

110 
row
 = 
m­³r
->
	`cu¼’tIndex
();

111 
bËMod–
->
	`»moveRow
(
row
);

112 
m­³r
->
	`subm™
();

113 
m­³r
->
	`£tCu¼’tIndex
(
	`qMš
(
row
, 
bËMod–
->
	`rowCouÁ
() - 1));

114 
	}
}

	@fileform.h

1 #iâdeà
EMPLOYEEFORM_H


2 
	#EMPLOYEEFORM_H


	)

3 
	~<QtWidg‘s
>

4 
	~<QDŸlog
>

6 
şass
 
	gQComboBox
;

7 
şass
 
	gQD©aWidg‘M­³r
;

8 
şass
 
	gQD©eEd™
;

9 
şass
 
	gQDŸlogBu‰ÚBox
;

10 
şass
 
	gQLab–
;

11 
şass
 
	gQLšeEd™
;

12 
şass
 
	gQPushBu‰Ú
;

13 
şass
 
	gQSqlR–©iÚ®TabËMod–
;

16 
	mKsfe_Ksfeid
 = 0,

17 
	mKsfe_Ksid
 = 1,

18 
	mKsfe_Wjmc
 = 2,

19 
	mKsfe_F•utime
 = 3,

20 
	mKsfe_Webadd»ss
 = 4,

23 şas 
	cFeFÜm
 : 
public
 
QDŸlog


25 
Q_OBJECT


27 
public
:

28 
FeFÜm
(
id
,
feid
, 
QWidg‘
 *
·»Á
 = 0);

30 
dÚe
(
»suÉ
);

32 
´iv©e
 
	m¦Ùs
:

33 
addFe
();

34 
d–‘eFe
();

36 
	m´iv©e
:

37 
QSqlR–©iÚ®TabËMod–
 *
bËMod–
;

38 
QD©aWidg‘M­³r
 *
	mm­³r
;

39 
QLab–
 *
	mÇmeLab–
;

40 
QLab–
 *
	mpubtimeLab–
;

41 
QLab–
 *
	mwebAddLab–
;

43 
QLšeEd™
 *
	mÇmeEd™
;

45 
QLšeEd™
 *
	mÇmeEd™
;

46 
QLšeEd™
 *
	mpubTimeEd™
;

47 
QD©eEd™
 *
	mwebAddEd™
;

49 
QPushBu‰Ú
 *
	maddBu‰Ú
;

50 
QPushBu‰Ú
 *
	md–‘eBu‰Ú
;

51 
QPushBu‰Ú
 *
	mşo£Bu‰Ú
;

52 
QDŸlogBu‰ÚBox
 *
	mbu‰ÚBox
;

	@fileform_copy.cpp

1 
	~<QtSql
>

2 
	~<QtWidg‘s
>

3 
	~"FeFÜm.h
"

4 
	~<QMes§geBox
>

6 
	gFeFÜm
::
	$FeFÜm
(
id
,
feid
,
QWidg‘
 *
·»Á
)

7 : 
	$QDŸlog
(
·»Á
)

9 
ÇmeEd™
 = 
Ãw
 
QLšeEd™
;

10 
ÇmeLab–
 = 
Ãw
 
	`QLab–
(
	`Œ
("æ¶ˆæ¯å†…å®¹:"));

11 
ÇmeLab–
->
	`£tBuddy
(
ÇmeEd™
);

13 
d•¬tm’tComboBox
 = 
Ãw
 
QComboBox
;

14 
pubtimeLab–
 = 
Ãw
 
	`QLab–
(
	`Œ
("æ‰€å±æ–‡ä»¶"));

15 
pubtimeLab–
->
	`£tBuddy
(
d•¬tm’tComboBox
);

17 
ÇmeLšeEd™
 = 
Ãw
 
QLšeEd™
;

18 
ÇmeLšeEd™
->
	`£tV®id©Ü
(
Ãw
 
	`QIÁV®id©Ü
(0, 99999, 
this
));

20 
ex‹nsiÚLab–
 = 
Ãw
 
	`QLab–
(
	`Œ
("å‘å¸ƒæ—¶é—´"));

21 
ex‹nsiÚLab–
->
	`£tBuddy
(
ÇmeLšeEd™
);

23 
emaEd™
 = 
Ãw
 
QLšeEd™
;

24 
emaLab–
 = 
Ãw
 
	`QLab–
(
	`Œ
("æ‰€å±è€ƒè¯•"));

25 
emaLab–
->
	`£tBuddy
(
emaEd™
);

27 
¡¬tD©eEd™
 = 
Ãw
 
QD©eEd™
;

28 
¡¬tD©eEd™
->
	`£tC®’d¬Pİup
(
Œue
);

29 
QD©e
 
today
 = QD©e::
	`cu¼’tD©e
();

30 
¡¬tD©eEd™
->
	`£tD©eRªge
(
today
.
	`addDays
(-90),oday.addDays(90));

31 
¡¬tD©eLab–
 = 
Ãw
 
	`QLab–
(
	`Œ
("&å¤±æ•ˆæ—¶é—´:"));

32 
¡¬tD©eLab–
->
	`£tBuddy
(
¡¬tD©eEd™
);

39 
addBu‰Ú
 = 
Ãw
 
	`QPushBu‰Ú
(
	`Œ
("&Add"));

40 
d–‘eBu‰Ú
 = 
Ãw
 
	`QPushBu‰Ú
(
	`Œ
("&Delete"));

41 
şo£Bu‰Ú
 = 
Ãw
 
	`QPushBu‰Ú
(
	`Œ
("&Close"));

43 
bu‰ÚBox
 = 
Ãw
 
QDŸlogBu‰ÚBox
;

44 
bu‰ÚBox
->
	`addBu‰Ú
(
addBu‰Ú
, 
QDŸlogBu‰ÚBox
::
AùiÚRŞe
);

45 
bu‰ÚBox
->
	`addBu‰Ú
(
d–‘eBu‰Ú
, 
QDŸlogBu‰ÚBox
::
AùiÚRŞe
);

46 
bu‰ÚBox
->
	`addBu‰Ú
(
şo£Bu‰Ú
, 
QDŸlogBu‰ÚBox
::
Acû±RŞe
);

48 
bËMod–
 = 
Ãw
 
	`QSqlR–©iÚ®TabËMod–
(
this
);

49 
bËMod–
->
	`£tTabË
("ksmsg");

50 
bËMod–
->
	`£tR–©iÚ
(
Msg_Feid
,

51 
	`QSqlR–©iÚ
("ksfile", "ksfileid", "wjmc"));

52 
bËMod–
->
	`£tF‹r
(
	`QSŒšg
("ksmsg.ksfeid = %1").
	`¬g
(
feid
));

53 
bËMod–
->
	`£tSÜt
(
Msg_D—dtime
, 
Qt
::
AsûndšgOrd”
);

54 
bËMod–
->
	`£Ëù
();

56 
QSqlTabËMod–
 *
»ÏtiÚMod–
 =

57 
bËMod–
->
	`»ÏtiÚMod–
(
Msg_Feid
);

58 
d•¬tm’tComboBox
->
	`£tMod–
(
»ÏtiÚMod–
);

59 
d•¬tm’tComboBox
->
	`£tMod–CŞumn
(

60 
»ÏtiÚMod–
->
	`f›ldIndex
("wjmc"));

62 
m­³r
 = 
Ãw
 
	`QD©aWidg‘M­³r
(
this
);

63 
m­³r
->
	`£tSubm™PŞicy
(
QD©aWidg‘M­³r
::
AutoSubm™
);

64 
m­³r
->
	`£tMod–
(
bËMod–
);

65 
m­³r
->
	`£tI‹mD–eg©e
(
Ãw
 
	`QSqlR–©iÚ®D–eg©e
(
this
));

66 
m­³r
->
	`addM­pšg
(
ÇmeEd™
, 
Msg_MsgcÚ‹Á
);

67 
m­³r
->
	`addM­pšg
(
d•¬tm’tComboBox
, 
Msg_Feid
);

68 
m­³r
->
	`addM­pšg
(
ÇmeLšeEd™
, 
Msg_msgpubtime
);

69 
m­³r
->
	`addM­pšg
(
emaEd™
, 
Msg_Ksid
);

70 
m­³r
->
	`addM­pšg
(
¡¬tD©eEd™
, 
Msg_D—dtime
);

72 ià(
id
 != -1) {

73 
row
 = 0;„ow < 
bËMod–
->
	`rowCouÁ
(); ++row) {

74 
QSqlRecÜd
 
»cÜd
 = 
bËMod–
->
	`»cÜd
(
row
);

75 ià(
»cÜd
.
	`v®ue
(
Msg_Id
).
	`toIÁ
(è=ğ
id
) {

76 
m­³r
->
	`£tCu¼’tIndex
(
row
);

81 
m­³r
->
	`toFœ¡
();

89 
	`cÚÃù
(
addBu‰Ú
, 
	`SIGNAL
(
	`şicked
()), 
this
, 
	`SLOT
(
	`addFe
()));

90 
	`cÚÃù
(
d–‘eBu‰Ú
, 
	`SIGNAL
(
	`şicked
()),

91 
this
, 
	`SLOT
(
	`d–‘eFe
()));

92 
	`cÚÃù
(
şo£Bu‰Ú
, 
	`SIGNAL
(
	`şicked
()), 
this
, 
	`SLOT
(
	`acû±
()));

103 
QGridLayout
 *
mašLayout
 = 
Ãw
 QGridLayout;

105 
mašLayout
->
	`addWidg‘
(
ÇmeLab–
, 1, 0);

106 
mašLayout
->
	`addWidg‘
(
ÇmeEd™
, 1, 1, 1, 2);

107 
mašLayout
->
	`addWidg‘
(
pubtimeLab–
, 2, 0);

108 
mašLayout
->
	`addWidg‘
(
d•¬tm’tComboBox
, 2, 1, 1, 2);

109 
mašLayout
->
	`addWidg‘
(
ex‹nsiÚLab–
, 3, 0);

110 
mašLayout
->
	`addWidg‘
(
ÇmeLšeEd™
, 3, 1);

111 
mašLayout
->
	`addWidg‘
(
emaLab–
, 4, 0);

112 
mašLayout
->
	`addWidg‘
(
emaEd™
, 4, 1, 1, 2);

113 
mašLayout
->
	`addWidg‘
(
¡¬tD©eLab–
, 5, 0);

114 
mašLayout
->
	`addWidg‘
(
¡¬tD©eEd™
, 5, 1);

115 
mašLayout
->
	`addWidg‘
(
bu‰ÚBox
, 7, 0, 1, 3);

116 
mašLayout
->
	`£tRowMšimumHeight
(6, 10);

117 
mašLayout
->
	`£tRowSŒ‘ch
(6, 1);

118 
mašLayout
->
	`£tCŞumnSŒ‘ch
(2, 1);

119 
	`£tLayout
(
mašLayout
);

126 
ÇmeEd™
->
	`£tFocus
();

129 
	`£tWšdowT™Ë
(
	`Œ
("æ¶ˆæ¯ç®¡ç†"));

130 
	}
}

132 
	gFeFÜm
::
	$dÚe
(
»suÉ
)

134 
m­³r
->
	`subm™
();

135 
QDŸlog
::
	`dÚe
(
»suÉ
);

136 
	}
}

138 
	gFeFÜm
::
	$addFe
()

140 
row
 = 
m­³r
->
	`cu¼’tIndex
();

141 
m­³r
->
	`subm™
();

142 
bËMod–
->
	`š£¹Row
(
row
);

143 
m­³r
->
	`£tCu¼’tIndex
(
row
);

145 
ÇmeEd™
->
	`ş—r
();

146 
ÇmeLšeEd™
->
	`ş—r
();

147 
¡¬tD©eEd™
->
	`£tD©e
(
QD©e
::
	`cu¼’tD©e
());

148 
ÇmeEd™
->
	`£tFocus
();

149 
	}
}

151 
	gFeFÜm
::
	$d–‘eFe
()

153 
row
 = 
m­³r
->
	`cu¼’tIndex
();

154 
bËMod–
->
	`»moveRow
(
row
);

155 
m­³r
->
	`subm™
();

156 
m­³r
->
	`£tCu¼’tIndex
(
	`qMš
(
row
, 
bËMod–
->
	`rowCouÁ
() - 1));

157 
	}
}

	@main.cpp

1 
	~<QtGui
>

2 
	~<QtSql
>

3 
	~<c¡dlib
>

4 
	~<QtWidg‘s
>

6 
	~"mašfÜm.h
"

8 
boŞ
 
	$ü—‹CÚÃùiÚ
()

10 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`addD©aba£
("QMYSQL");

12 
db
.
	`£tHo¡Name
("58.87.119.233");

13 
db
.
	`£tD©aba£Name
("bjks2");

14 
db
.
	`£tU£rName
("root");

15 
db
.
	`£tPasswÜd
("123123");

16 ià(!
db
.
	`İ’
()) {

17 
QMes§geBox
::
	`w¬nšg
(0, 
QObjeù
::
	`Œ
("Database Error"),

18 
db
.
	`Ï¡E¼Ü
().
	`‹xt
());

19  
çl£
;

21  
Œue
;

22 
	}
}

24 
	$maš
(
¬gc
, *
¬gv
[])

26 
QAµliÿtiÚ
 
	`­p
(
¬gc
, 
¬gv
);

27 
	`ü—‹CÚÃùiÚ
();

28 
MašFÜm
 
fÜm
;

29 
fÜm
.
	`»size
(500, 600);

30 
fÜm
.
	`show
();

31  
­p
.
	`exec
();

32 
	}
}

	@mainform.cpp

1 
	~<QtGui
>

2 
	~<QtSql
>

3 
	~<SŒšg
>

4 
	~"em¶oy“fÜm.h
"

5 
	~"fefÜm.h
"

6 
	~"mašfÜm.h
"

8 
	gMašFÜm
::
	$MašFÜm
()

10 
	`ü—‹FePª–
();

11 
	`ü—‹MsgPª–
();

12 
	`ü—‹KaoshiPª–
();

14 
¥l™‹r
 = 
Ãw
 
	`QS¶™‹r
(
Qt
::
V”tiÿl
);

15 
¥l™‹r
->
	`£tF¿meStyË
(
QF¿me
::
StyËdPª–
);

16 
¥l™‹r
->
	`addWidg‘
(
fePª–
);

17 
¥l™‹r
->
	`addWidg‘
(
msgPª–
);

22 
addBu‰Ú
 = 
Ãw
 
	`QPushBu‰Ú
(
	`Œ
("&æ·»åŠ æ–‡ä»¶."));

23 
d–‘eBu‰Ú
 = 
Ãw
 
	`QPushBu‰Ú
(
	`Œ
("&åˆ é™¤æ–‡ä»¶."));

24 
ed™Bu‰Ú
 = 
Ãw
 
	`QPushBu‰Ú
(
	`Œ
("ç¼–è¾‘æ¶ˆæ¯"));

25 
qu™Bu‰Ú
 = 
Ãw
 
	`QPushBu‰Ú
(
	`Œ
("&Quit"));

27 
bu‰ÚBox
 = 
Ãw
 
QDŸlogBu‰ÚBox
;

28 
bu‰ÚBox
->
	`addBu‰Ú
(
addBu‰Ú
, 
QDŸlogBu‰ÚBox
::
AùiÚRŞe
);

29 
bu‰ÚBox
->
	`addBu‰Ú
(
d–‘eBu‰Ú
, 
QDŸlogBu‰ÚBox
::
AùiÚRŞe
);

30 
bu‰ÚBox
->
	`addBu‰Ú
(
ed™Bu‰Ú
, 
QDŸlogBu‰ÚBox
::
AùiÚRŞe
);

31 
bu‰ÚBox
->
	`addBu‰Ú
(
qu™Bu‰Ú
, 
QDŸlogBu‰ÚBox
::
Acû±RŞe
);

33 
	`cÚÃù
(
addBu‰Ú
, 
	`SIGNAL
(
	`şicked
()), 
this
, 
	`SLOT
(
	`addfe
()));

34 
	`cÚÃù
(
d–‘eBu‰Ú
, 
	`SIGNAL
(
	`şicked
()), 
this
, 
	`SLOT
(
	`d–‘efe
()));

35 
	`cÚÃù
(
ed™Bu‰Ú
, 
	`SIGNAL
(
	`şicked
()), 
this
, 
	`SLOT
(
	`ed™msgs
()));

36 
	`cÚÃù
(
qu™Bu‰Ú
, 
	`SIGNAL
(
	`şicked
()), 
this
, 
	`SLOT
(
	`şo£
()));

38 
QVBoxLayout
 *
mašLayout
 = 
Ãw
 QVBoxLayout;

39 
mašLayout
->
	`addWidg‘
(
kaoshiPª–
);

40 
mašLayout
->
	`addWidg‘
(
¥l™‹r
);

41 
mašLayout
->
	`addWidg‘
(
bu‰ÚBox
);

43 
	`£tLayout
(
mašLayout
);

45 
	`£tWšdowT™Ë
(
	`Œ
("Staff Manager"));

47 
feV›w
->
	`£tCu¼’tIndex
(
feMod–
->
	`šdex
(0, 0));

48 
	}
}

50 
	gMašFÜm
::
	$upd©eMsgV›w
()

52 
QMod–Index
 
šdex
 = 
feV›w
->
	`cu¼’tIndex
();

53 ià(
šdex
.
	`isV®id
()) {

54 
QSqlRecÜd
 
»cÜd
 = 
feMod–
->
	`»cÜd
(
šdex
.
	`row
());

55 
id
 = 
»cÜd
.
	`v®ue
("ksfeid").
	`toIÁ
();

56 
msgMod–
->
	`£tF‹r
(
	`QSŒšg
("ksmsg.ksfeid = %1").
	`¬g
(
id
));

57 
msgLab–
->
	`£tText
(
	`Œ
("é…ç½® %1 è€ƒè¯•çš„æ¶ˆæ¯msg")

58 .
	`¬g
(
»cÜd
.
	`v®ue
("ksid").
	`toSŒšg
()));

61 
msgMod–
->
	`£tF‹r
("ksfileid = -1");

62 
msgLab–
->
	`£tText
(
	`Œ
("E&mployees"));

64 
msgMod–
->
	`£Ëù
();

65 
msgV›w
->
	`hÜizÚlH—d”
()->
	`£tVisibË
(

66 
msgMod–
->
	`rowCouÁ
() > 0);

69 
	}
}

71 
	gMašFÜm
::
	$addfe
()

73 
row
 = 
feMod–
->
	`rowCouÁ
();

74 
feMod–
->
	`š£¹Row
(
row
);

75 
QMod–Index
 
šdex
 = 
feMod–
->
	`šdex
(
row
, 
Ksfe_ksid
);

76 
feV›w
->
	`£tCu¼’tIndex
(
šdex
);

77 
feV›w
->
	`ed™
(
šdex
);

78 
	}
}

80 
	gMašFÜm
::
	$d–‘efe
()

82 
QMod–Index
 
šdex
 = 
feV›w
->
	`cu¼’tIndex
();

83 ià(!
šdex
.
	`isV®id
())

86 
QSqlD©aba£
::
	`d©aba£
().
	`Œª§ùiÚ
();

87 
QSqlRecÜd
 
»cÜd
 = 
feMod–
->
	`»cÜd
(
šdex
.
	`row
());

88 
id
 = 
»cÜd
.
	`v®ue
(
Ksfe_ksfeid
).
	`toIÁ
();

89 
nummsgs
 = 0;

91 
QSqlQu”y
 
	`qu”y
(
	`QSŒšg
("SELECT COUNT(*) FROM msg "

92 "WHERE feid = %1").
	`¬g
(
id
));

93 ià(
qu”y
.
	`Ãxt
())

94 
nummsgs
 = 
qu”y
.
	`v®ue
(0).
	`toIÁ
();

95 ià(
nummsgs
 > 0) {

96 
r
 = 
QMes§geBox
::
	`w¬nšg
(
this
, 
	`Œ
("Delete file"),

97 
	`Œ
("Delete %1‡nd‡ll its msgs?")

98 .
	`¬g
(
»cÜd
.
	`v®ue
(
Ksfe_ksid
).
	`toSŒšg
()),

99 
QMes§geBox
::
Yes
 | QMes§geBox::
No
);

100 ià(
r
 =ğ
QMes§geBox
::
No
) {

101 
QSqlD©aba£
::
	`d©aba£
().
	`rŞlback
();

105 
qu”y
.
	`exec
(
	`QSŒšg
("DELETE FROM msg "

106 "WHERE feid = %1").
	`¬g
(
id
));

109 
feMod–
->
	`»moveRow
(
šdex
.
	`row
());

110 
feMod–
->
	`subm™AÎ
();

111 
QSqlD©aba£
::
	`d©aba£
().
	`comm™
();

113 
	`upd©eMsgV›w
();

114 
feV›w
->
	`£tFocus
();

115 
	}
}

117 
	gMašFÜm
::
	$ed™msgs
()

119 
msgId
 = -1;

120 
ksfeid
 = -1;

121 
QMod–Index
 
šdex
 = 
msgV›w
->
	`cu¼’tIndex
();

122 ià(
šdex
.
	`isV®id
()) {

123 
QSqlRecÜd
 
»cÜd
 = 
msgMod–
->
	`»cÜd
(
šdex
.
	`row
());

124 
msgId
 = 
»cÜd
.
	`v®ue
(
Msg_Id
).
	`toIÁ
();

125 
ksfeid
 = 
»cÜd
.
	`v®ue
(
Msg_Feid
).
	`toIÁ
();

128 
Em¶oy“FÜm
 
	`fÜm
(
msgId
,
ksfeid
,
this
);

129 
fÜm
.
	`exec
();

130 
	`upd©eMsgV›w
();

131 
	}
}

133 
	gMašFÜm
::
	$ü—‹FePª–
()

135 
fePª–
 = 
Ãw
 
QWidg‘
;

136 
feMod–
 = 
Ãw
 
	`QSqlR–©iÚ®TabËMod–
(
this
);

137 
feMod–
->
	`£tTabË
("ksfile");

138 
feMod–
->
	`£tSÜt
(
Ksfe_ksid
, 
Qt
::
AsûndšgOrd”
);

143 
feMod–
->
	`£Ëù
();

145 
feV›w
 = 
Ãw
 
QTabËV›w
;

146 
feV›w
->
	`£tMod–
(
feMod–
);

147 
feV›w
->
	`£tI‹mD–eg©e
(
Ãw
 
	`QSqlR–©iÚ®D–eg©e
(
this
));

148 
feV›w
->
	`£tS–eùiÚMode
(

149 
QAb¡¿ùI‹mV›w
::
SšgËS–eùiÚ
);

150 
feV›w
->
	`£tS–eùiÚBehaviÜ
(
QAb¡¿ùI‹mV›w
::
S–eùRows
);

152 
feV›w
->
	`»sizeCŞumnsToCÚ‹Ás
();

153 
feV›w
->
	`£tEd™Trigg”s
(
QAb¡¿ùI‹mV›w
::
NoEd™Trigg”s
);

154 
feV›w
->
	`hÜizÚlH—d”
()->
	`£tSŒ‘chLa¡SeùiÚ
(
Œue
);

155 
feV›w
->
	`£tCŞumnHidd’
(0, 
Œue
);

156 
feV›w
->
	`£tCŞumnHidd’
(1, 
Œue
);

158 
feLab–
 = 
Ãw
 
	`QLab–
(
	`Œ
("Depar&tments"));

159 
feLab–
->
	`£tBuddy
(
feV›w
);

161 
	`cÚÃù
(
feV›w
->
	`£ËùiÚMod–
(),

162 
	`SIGNAL
(
	`cu¼’tRowChªged
(cÚ¡ 
QMod–Index
 &,

163 cÚ¡ 
QMod–Index
 &)),

164 
this
, 
	`SLOT
(
	`upd©eMsgV›w
()));

166 
QVBoxLayout
 *
Ïyout
 = 
Ãw
 QVBoxLayout;

167 
Ïyout
->
	`addWidg‘
(
feLab–
);

168 
Ïyout
->
	`addWidg‘
(
feV›w
);

169 
fePª–
->
	`£tLayout
(
Ïyout
);

170 
	}
}

172 
	gMašFÜm
::
	$ü—‹MsgPª–
()

174 
msgPª–
 = 
Ãw
 
QWidg‘
;

175 
msgMod–
 = 
Ãw
 
	`QSqlR–©iÚ®TabËMod–
(
this
);

176 
msgMod–
->
	`£tTabË
("ksmsg");

177 
msgMod–
->
	`£tR–©iÚ
(3,

178 
	`QSqlR–©iÚ
("ksfile","ksfileid","ksfileid"));

179 
msgMod–
->
	`£tSÜt
(
Msg_Id
, 
Qt
::
AsûndšgOrd”
);

180 
msgMod–
->
	`£tH—d”D©a
(1, 
Qt
::
HÜizÚl
,

181 
	`Œ
("æ¶ˆæ¯å†…å®¹"));

182 
msgMod–
->
	`£tH—d”D©a
(2, 
Qt
::
HÜizÚl
,

183 
	`Œ
("å‘å¸ƒæ—¶é—´"));

184 
msgMod–
->
	`£tH—d”D©a
(5, 
Qt
::
HÜizÚl
,

185 
	`Œ
("å¤±æ•ˆæ—¶é—´"));

187 
msgV›w
 = 
Ãw
 
QTabËV›w
;

188 
msgV›w
->
	`£tMod–
(
msgMod–
);

189 
msgV›w
->
	`£tS–eùiÚMode
(
QAb¡¿ùI‹mV›w
::
SšgËS–eùiÚ
);

190 
msgV›w
->
	`£tS–eùiÚBehaviÜ
(
QAb¡¿ùI‹mV›w
::
S–eùRows
);

191 
msgV›w
->
	`£tEd™Trigg”s
(
QAb¡¿ùI‹mV›w
::
NoEd™Trigg”s
);

192 
msgV›w
->
	`hÜizÚlH—d”
()->
	`£tSŒ‘chLa¡SeùiÚ
(
Œue
);

193 
msgV›w
->
	`£tCŞumnHidd’
(0, 
Œue
);

194 
msgV›w
->
	`£tCŞumnHidd’
(3, 
Œue
);

195 
msgV›w
->
	`£tCŞumnHidd’
(4, 
Œue
);

197 
msgLab–
 = 
Ãw
 
	`QLab–
(
	`Œ
("E&mployees"));

198 
msgLab–
->
	`£tBuddy
(
msgV›w
);

200 
QVBoxLayout
 *
Ïyout
 = 
Ãw
 QVBoxLayout;

201 
Ïyout
->
	`addWidg‘
(
msgLab–
);

202 
Ïyout
->
	`addWidg‘
(
msgV›w
);

203 
msgPª–
->
	`£tLayout
(
Ïyout
);

204 
	}
}

206 
	gMašFÜm
::
	$ü—‹KaoshiPª–
()

208 
kaoshiPª–
 = 
Ãw
 
QWidg‘
;

209 
kaoshiMod–
 = 
Ãw
 
	`QSqlR–©iÚ®TabËMod–
(
this
);

210 
kaoshiMod–
->
	`£tTabË
("kstype");

211 
kaoshiMod–
->
	`£Ëù
();

212 
kaoshiV›w
 = 
Ãw
 
QTabËV›w
;

213 
kaoshiV›w
->
	`£tMod–
(
kaoshiMod–
);

214 
kaoshiV›w
->
	`£tS–eùiÚMode
(
QAb¡¿ùI‹mV›w
::
SšgËS–eùiÚ
);

215 
kaoshiV›w
->
	`£tS–eùiÚBehaviÜ
(
QAb¡¿ùI‹mV›w
::
S–eùRows
);

216 
kaoshiV›w
->
	`£tEd™Trigg”s
(
QAb¡¿ùI‹mV›w
::
NoEd™Trigg”s
);

217 
kaoshiV›w
->
	`hÜizÚlH—d”
()->
	`£tSŒ‘chLa¡SeùiÚ
(
Œue
);

219 
kaoshiLab–
 = 
Ãw
 
	`QLab–
(
	`Œ
("E&mployees"));

220 
kaoshiLab–
->
	`£tBuddy
(
kaoshiV›w
);

222 
	`cÚÃù
(
kaoshiV›w
->
	`£ËùiÚMod–
(),

223 
	`SIGNAL
(
	`cu¼’tRowChªged
(cÚ¡ 
QMod–Index
 &,

224 cÚ¡ 
QMod–Index
 &)),

225 
this
, 
	`SLOT
(
	`upd©eFeV›w
()));

226 
QVBoxLayout
 *
Ïyout
 = 
Ãw
 QVBoxLayout;

227 
Ïyout
->
	`addWidg‘
(
kaoshiLab–
);

228 
Ïyout
->
	`addWidg‘
(
kaoshiV›w
);

229 
kaoshiPª–
->
	`£tLayout
(
Ïyout
);

230 
	}
}

232 
	gMašFÜm
::
	$upd©eFeV›w
()

234 
QMod–Index
 
šdex
 = 
kaoshiV›w
->
	`cu¼’tIndex
();

235 ià(
šdex
.
	`isV®id
()) {

236 
QSqlRecÜd
 
»cÜd
 = 
kaoshiMod–
->
	`»cÜd
(
šdex
.
	`row
());

237 
QSŒšg
 
id
 = 
»cÜd
.
	`v®ue
("ksid").
	`toSŒšg
();

238 
feMod–
->
	`£tF‹r
(
	`QSŒšg
("ksfe.ksid = \"%1\" ").
	`¬g
(
id
));

240 
feLab–
->
	`£tText
(
	`Œ
(" %1 æ–‡ä»¶ç®¡ç†")

241 .
	`¬g
(
»cÜd
.
	`v®ue
("k¢ame").
	`toSŒšg
()));

244 
feMod–
->
	`£tF‹r
("ksid = -1");

245 
feLab–
->
	`£tText
(
	`Œ
("è€ƒè¯•æ–‡ä»¶"));

247 
feMod–
->
	`£Ëù
();

248 
feV›w
->
	`hÜizÚlH—d”
()->
	`£tVisibË
(

249 
feMod–
->
	`rowCouÁ
() > 0);

250 
	}
}

	@mainform.h

1 #iâdeà
MAINFORM_H


2 
	#MAINFORM_H


	)

4 
	~<QWidg‘
>

6 
şass
 
	gQDŸlogBu‰ÚBox
;

7 
şass
 
	gQLab–
;

8 
şass
 
	gQMod–Index
;

9 
şass
 
	gQPushBu‰Ú
;

10 
şass
 
	gQS¶™‹r
;

11 
şass
 
	gQSqlR–©iÚ®TabËMod–
;

12 
şass
 
	gQTabËV›w
;

15 
	mKsfe_ksfeid
 = 0,

16 
	mKsfe_ksid
 = 1,

17 
	mKsfe_wjmc
 = 2,

18 
	mksfe_f•ubtime
 = 3,

19 
	mKsfe_webadd»ss
 = 4,

22 şas 
	cMašFÜm
 : 
public
 
QWidg‘


24 
Q_OBJECT


26 
public
:

27 
MašFÜm
();

29 
´iv©e
 
	m¦Ùs
:

30 
upd©eMsgV›w
();

31 
upd©eFeV›w
();

32 
addfe
();

33 
d–‘efe
();

34 
ed™msgs
();

36 
	m´iv©e
:

37 
ü—‹FePª–
();

38 
ü—‹MsgPª–
();

39 
ü—‹KaoshiPª–
();

41 
QSqlR–©iÚ®TabËMod–
 *
	mfeMod–
;

42 
QSqlR–©iÚ®TabËMod–
 *
	mmsgMod–
;

43 
QSqlR–©iÚ®TabËMod–
 *
	mkaoshiMod–
;

45 
QWidg‘
 *
	mfePª–
;

46 
QWidg‘
 *
	mmsgPª–
;

47 
QWidg‘
 *
	mkaoshiPª–
;

48 
QLab–
 *
	mfeLab–
;

49 
QLab–
 *
	mmsgLab–
;

50 
QLab–
 *
	mkaoshiLab–
;

52 
QTabËV›w
 *
	mfeV›w
;

53 
QTabËV›w
 *
	mmsgV›w
;

54 
QTabËV›w
 *
	mkaoshiV›w
;

56 
QS¶™‹r
 *
	m¥l™‹r
;

57 
QS¶™‹r
 *
	mkaoshi¥l™‹r
;

59 
QPushBu‰Ú
 *
	maddBu‰Ú
;

60 
QPushBu‰Ú
 *
	md–‘eBu‰Ú
;

61 
QPushBu‰Ú
 *
	med™Bu‰Ú
;

62 
QPushBu‰Ú
 *
	mqu™Bu‰Ú
;

63 
QDŸlogBu‰ÚBox
 *
	mbu‰ÚBox
;

	@FileForm.h

1 #iâdeà
EMPLOYEEFORM_H


2 
	#EMPLOYEEFORM_H


	)

3 
	~<QtWidg‘s
>

4 
	~<QDŸlog
>

6 
şass
 
	gQComboBox
;

7 
şass
 
	gQD©aWidg‘M­³r
;

8 
şass
 
	gQD©eEd™
;

9 
şass
 
	gQDŸlogBu‰ÚBox
;

10 
şass
 
	gQLab–
;

11 
şass
 
	gQLšeEd™
;

12 
şass
 
	gQPushBu‰Ú
;

13 
şass
 
	gQSqlR–©iÚ®TabËMod–
;

16 
	mKsfe_Ksfeid
 = 0,

17 
	mKsfe_Ksid
 = 1,

18 
	mKsfe_Wjmc
 = 2,

19 
	mKsfe_F•utime
 = 3,

20 
	mKsfe_Webadd»ss
 = 4,

23 şas 
	cFeFÜm
 : 
public
 
QDŸlog


25 
Q_OBJECT


27 
public
:

28 
FeFÜm
(
id
,
feid
, 
QWidg‘
 *
·»Á
 = 0);

30 
dÚe
(
»suÉ
);

32 
´iv©e
 
	m¦Ùs
:

33 
addFe
();

34 
d–‘eFe
();

36 
	m´iv©e
:

37 
QSqlR–©iÚ®TabËMod–
 *
bËMod–
;

38 
QD©aWidg‘M­³r
 *
	mm­³r
;

39 
QLab–
 *
	mÇmeLab–
;

40 
QLab–
 *
	mpubtimeLab–
;

41 
QLab–
 *
	mwebAddLab–
;

43 
QLšeEd™
 *
	mÇmeEd™
;

45 
QLšeEd™
 *
	mÇmeEd™
;

46 
QLšeEd™
 *
	mpubTimeEd™
;

47 
QD©eEd™
 *
	mwebAddEd™
;

49 
QPushBu‰Ú
 *
	maddBu‰Ú
;

50 
QPushBu‰Ú
 *
	md–‘eBu‰Ú
;

51 
QPushBu‰Ú
 *
	mşo£Bu‰Ú
;

52 
QDŸlogBu‰ÚBox
 *
	mbu‰ÚBox
;

	@
1
.
0
9
118
employeeform.cpp
employeeform.h
fileform.cpp
fileform.h
fileform_copy.cpp
main.cpp
mainform.cpp
mainform.h
FileForm.h
